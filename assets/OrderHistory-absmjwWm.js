import{a as e,c as t,i as n,n as r,o as i,r as a,s as o,t as s}from"./index-DVXrCW26.js";var c=t(o()),l=t(s()),u=t(e());function d(){let{user:e,currency:t}=(0,c.useContext)(a),[o,s]=(0,c.useState)([]),[d,f]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{e&&(async()=>{try{if(!e)return;let t=e.token||localStorage.getItem(`token`),{data:r}=await n.get(`/orders`,{headers:{Authorization:`Bearer ${t}`}});s(r.orders||[])}catch(e){console.error(`Fetch orders error:`,e),e.response?.status===401&&console.log(`Session expired. Please login again.`)}finally{f(!1)}})()},[e]),!d&&o.length===0?(0,u.jsxs)(`div`,{className:`flex flex-col items-center gap-8 md:gap-4`,children:[(0,u.jsx)(l.default,{className:`w-80 h-80`,animationData:r}),(0,u.jsx)(`h1`,{className:`text-3xl font-semibold text-secondary`,children:`No Orders Yet`}),(0,u.jsx)(`p`,{className:`font-semibold text-secondary text-center`,children:`Looks like you haven't placed any orders yet.`}),(0,u.jsx)(i,{to:`/product`,className:`bg-primary text-white rounded-lg w-40 h-12 flex justify-center items-center font-bold`,children:`Start Shopping`})]}):(0,u.jsxs)(`div`,{className:`p-6 w-full min-h-screen`,children:[(0,u.jsx)(`h1`,{className:`text-3xl font-semibold text-secondary mb-6`,children:`Your Orders`}),o.map(e=>(0,u.jsxs)(`div`,{className:`mb-8 bg-white shadow rounded-xl overflow-hidden`,children:[(0,u.jsxs)(`div`,{className:`flex justify-between p-4 bg-gray-100 text-sm`,children:[(0,u.jsxs)(`p`,{children:[(0,u.jsx)(`span`,{className:`font-semibold`,children:`Order ID:`}),` `,e.orderId]}),(0,u.jsxs)(`p`,{children:[(0,u.jsx)(`span`,{className:`font-semibold`,children:`Date:`}),` `,new Date(e.createdAt).toLocaleDateString()]})]}),(0,u.jsxs)(`table`,{className:`min-w-full`,children:[(0,u.jsx)(`thead`,{className:`bg-gray-200 text-gray-700`,children:(0,u.jsxs)(`tr`,{children:[(0,u.jsx)(`th`,{className:`px-4 py-3 text-left`,children:`Product`}),(0,u.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Quantity`}),(0,u.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Price`}),(0,u.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Total`}),(0,u.jsx)(`th`,{className:`px-4 py-3 text-center`,children:`Status`})]})}),(0,u.jsx)(`tbody`,{children:e.products.map((e,n)=>(0,u.jsxs)(`tr`,{className:`border-b`,children:[(0,u.jsxs)(`td`,{className:`px-4 py-3 flex items-center gap-3`,children:[(0,u.jsx)(`img`,{src:e.productId.image,alt:e.productId.title,className:`w-14 h-14 rounded-lg object-cover`}),(0,u.jsx)(`p`,{className:`font-medium text-secondary`,children:e.productId.title})]}),(0,u.jsx)(`td`,{className:`px-4 py-3 text-center`,children:e.quantity}),(0,u.jsxs)(`td`,{className:`px-4 py-3 text-center`,children:[t,e.price]}),(0,u.jsxs)(`td`,{className:`px-4 py-3 text-center font-medium`,children:[t,e.price*e.quantity]}),(0,u.jsx)(`td`,{className:`px-4 py-3 text-center text-green-600 font-semibold`,children:`Successful`})]},n))})]}),(0,u.jsxs)(`div`,{className:`flex justify-end p-4 font-semibold`,children:[`Total: `,t,e.totalPrice]})]},e._id))]})}var f=d;export{f as default};